<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Console</title><script src="static/index.8e1d9bb4.js" type="module"></script><style>body{width:100%;background:#222;padding:10px;font-family:Arial,Helvetica,sans-serif}</style><script>function removeCard(e){const t=document.getElementById("loading");t.loading=!0;document.getElementById("modal");fetch("root/cards/"+e,{method:"DELETE"}).then((e=>e.json())).then((e=>{console.log(e),t.loading=!1,search=document.getElementById("search"),search.search()})).catch((e=>{console.error("Error:",e),t.loading=!1}))}function saveCard(){const e=document.getElementById("loading");e.loading=!0;let t=document.getElementById("modal");const o={title:t.header,content:t.body},n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)};fetch("root/cards",n).then((e=>e.json())).then((t=>{console.log(t),e.loading=!1,search=document.getElementById("search"),search.search()})).catch((t=>{console.error("Error:",t),e.loading=!1}))}function editCard(e,t){console.log(e.parentElement,t.split("-id-")[1]),modalEdit=document.getElementById("modalEdit"),modalEdit.header=e.parentElement.title,modalEdit.body=e.parentElement.querySelector('div[slot="content"]').innerHTML.trim(),modalEdit.hiddenValue=t.split("-id-")[1],modalEdit.isOpen=!0}function updateCard(){const e=document.getElementById("modalEdit"),t=document.getElementById("loading"),o=e.hiddenValue;t.loading=!0;const n="root/cards/"+o,d={title:e.header,content:e.body},a={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)};fetch(n,a).then((e=>e.json())).then((e=>{console.log(e),t.loading=!1,search=document.getElementById("search"),search.search()})).catch((e=>{console.error("Error:",e),t.loading=!1}))}function deleteCard(e,t){removeCard(t.split("-id-")[1])}</script></head><body> <r2-loading-modal id="loading"></r2-loading-modal> <r2-sidecard> <h2>Menu</h2> <p> <r2-button-bar add-text="Add Card" add-button-handler="() => {const modal = document.querySelector('r2-modal'); modal.title= ''; modal.body=''; modal.isOpen = true;}"></r2-button-bar>  </p> </r2-sidecard> <r2-modal id="modal" title="New Card" placeholder-header="Header" placeholder-body="Content" button-text="Save" save-handler="saveCard()"></r2-modal> <r2-modal id="modalEdit" title="Edit Card" placeholder-header="Header" placeholder-body="Content" button-text="Save" save-handler="updateCard()"></r2-modal> <r2-search-cards edit-button-handler="editCard" delete-button-handler="deleteCard" id="search"></r2-search-cards> </body></html>